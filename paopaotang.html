<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>talking_js 泡泡堂</title>
</head>
<body>
<script>
function Player (name) {
  this.name = name;
  this.color = null;
  this.enemies = [];
  this.partners = [];
  this.status = "live";//标记角色当前生存状态
  //this.live = 'true'
}
Player.prototype.die = function () {
// this.lose();
// this.enemy.win();
// 1.表明自己挂了
this.status = "die";
var alldead = true;
// 2.判断其他队友是否活着
for(var i = 0;i < this.partners.length; i++) {
  if(this.partners[i].status === "live") {
    alldead = false;
    break;
  }
}
if (alldead) {
  this.lose();
  for(var i = 0;i < this.partners.length; i++) {
    this.partners[i].lose();
  }
  for(var i = 0;i < this.enemies.length; i++) {
    this.enemies[i].win();
  }
}
// 3.如果都死了，
//   输出敌人赢了，
//   输出自己败了
}
Player.prototype.lose = function () {
  console.log(this.name + "输了");
}
Player.prototype.win = function () {
  console.log(this.name + "赢了");
}
// var player1 = new Player('胖墩','red');
// var player2 = new Player('蓝妹妹','blue');
// player1.enemy = player2;
// player2.enemy = player1;
// player1.die();
var Players = [];
</script>
</body>
</html>
